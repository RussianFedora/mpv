From 034433457dfba108320a3361d24f4e099e7e320a Mon Sep 17 00:00:00 2001
From: Igor Gnatenko <i.gnatenko.brain@gmail.com>
Date: Tue, 5 May 2015 15:59:17 +0300
Subject: [PATCH] Revert "lua: reject Lua 5.3"

This reverts commit 9b59c175e389e0a0561312139c0861eba37e4719.
---
 player/lua.c              | 5 -----
 waftools/checks/custom.py | 2 +-
 2 files changed, 1 insertion(+), 6 deletions(-)

diff --git a/player/lua.c b/player/lua.c
index 4ef772f..c7ad996 100644
--- a/player/lua.c
+++ b/player/lua.c
@@ -377,11 +377,6 @@ static int load_lua(struct mpv_handle *client, const char *fname)
         .filename = fname,
     };
 
-    if (LUA_VERSION_NUM != 501 && LUA_VERSION_NUM != 502) {
-        MP_FATAL(ctx, "Only Lua 5.1 and 5.2 are supported.\n");
-        goto error_out;
-    }
-
     lua_State *L = ctx->state = luaL_newstate();
     if (!L)
         goto error_out;
diff --git a/waftools/checks/custom.py b/waftools/checks/custom.py
index 97c65e3..d168d9e 100644
--- a/waftools/checks/custom.py
+++ b/waftools/checks/custom.py
@@ -54,7 +54,7 @@ def check_lua(ctx, dependency_identifier):
         ( '51',     'lua >= 5.1.0 lua < 5.2.0'),
         ( '51deb',  'lua5.1 >= 5.1.0'), # debian
         ( '51fbsd', 'lua-5.1 >= 5.1.0'), # FreeBSD
-        ( '52',     'lua >= 5.2.0 lua < 5.3.0' ),
+        ( '52',     'lua >= 5.2.0' ),
         ( '52deb',  'lua5.2 >= 5.2.0'), # debian
         ( '52fbsd', 'lua-5.2 >= 5.2.0'), # FreeBSD
         ( 'luajit', 'luajit >= 2.0.0' ),
-- 
2.4.0

